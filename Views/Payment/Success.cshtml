@model FreelancePlatform.Models.Payment
@{
ViewData["Title"] = "Оплата успешна";
}

<div class="alert alert-success mt-4">
    Оплата прошла успешно.
</div>

<div class="project-card">
    <div class="card-body">
        <p>@(Model.OrderId.HasValue ? "Номер заказа:" : "Номер проекта:") <strong>@(Model.OrderId.HasValue ? Model.OrderId.ToString() : Model.ProjectId.ToString())</strong></p>
        <p>Название: <strong>@(Model.Order?.Service?.Title ?? Model.Project?.Title)</strong></p>
        <p>Сумма: <strong>@((Model.AmountMinor / 100.0M).ToString("C", new System.Globalization.CultureInfo("ru-RU")))</strong></p>
        <p>Платёжная система: @Model.Provider</p>
        <p>Статус: @GetStatusText(Model.Status.ToString())</p>
    </div>
</div>

<a asp-action="My" class="btn btn-secondary mt-3">Мои платежи</a>

@functions {
private string GetStatusText(string status)
{
return status switch
{
"Pending" => "Рассматривается",
"Succeeded" => "Успешно",
"Canceled" => "Отклонено",
"Failed" => "Неудачно",
_ => "Неизвестно"
};
}
}
