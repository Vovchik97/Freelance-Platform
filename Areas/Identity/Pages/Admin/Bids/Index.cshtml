@page
@model FreelancePlatform.Areas.Identity.Pages.Admin.Bids.IndexModel
@{
ViewData["Title"] = "Заявки";
}
<h2>Заявки</h2>
<table class="custom-table table-bordered table-striped">
    <thead>
    <tr>
        <th>Проект</th>
        <th>Фрилансер</th>
        <th>Статус</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var bid in Model.Bids)
    {
    <tr>
        <td>@bid.Project?.Title</td>
        <td>@bid.Freelancer?.UserName</td>
        <td>@GetStatusText(bid.Status.ToString())</td>
        <td>
            <form method="get" asp-page="Details" asp-route-id="@bid.Id" class="d-inline">
                <button type="submit" class="btn btn-sm btn-primary">Подробнее</button>
            </form>
            <form method="post" asp-page-handler="Delete" asp-route-id="@bid.Id" class="d-inline">
                <button class="btn btn-sm btn-danger">Удалить</button>
            </form>
        </td>
    </tr>
    }
    </tbody>
</table>

@functions
{
    private string GetStatusText(string status)
    {
        return status switch
        {
            "Pending" => "Рассматривается",
            "Accepted" => "Одобрена",
            "Rejected" => "Отклонена",
            _ => "Неизвестно"
        };
    }
}